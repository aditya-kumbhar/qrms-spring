<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<th:block th:include="fragments/fac_header.html :: headerfiles"></th:block>
<title>Time slot booking</title>
</head>
<div th:replace="fragments/fac_header :: header"></div>

<!-- script to turn nav link active -->
<script type="text/javascript">
	var navBar = document.getElementById("nav-bar");		
	var current = navBar.getElementsByClassName("active");
    // If there's any other active nav, make it inactive
    if (current.length > 0) { 
      current[0].className = current[0].className.replace(" active", "");
    }
	//set current page nav as active
	document.getElementById("bookings-nav").className+=" active";		
</script>
<script>
	$(document).ready(function () {
        $("#submit").click(function () {
       	 	var dept = $('#dept');
       	 	var rType = $('#rType');
       	 	var seats = $('#minSeats');
       	 	
       	 	if(dept.val() == "none"){
	       	 	alert("Please select a department");
	            $('#dept').focus();
	            
	            return false;
       	 	}else if(rType.val() == "none"){
	       	 	alert("Please select a resource type");
	            $('#rType').focus();
	            
	            return false;
       	 	}
       	 	return true;
        });
	});  
	</script>
	
<body>
	<div class="card bg-light">
		<article class="card-body mx-auto">
		<h4 class="card-title mt-3 text-center">Add Course</h4>
		<form action="/setbookings" method="post">
			<table>
				<tr>
					<td>
						Select Department
					</td>
					<td>
						<select class="form-control" th:id="dept" th:name="dept" autofocus>
							<option th:value="none" style="color:#8F8B87" selected>Select Department</option>
							<option th:each="dept : ${departments}" th:value="${dept.deptName}"  th:text="${dept.deptName}" style="color:#000"></option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						Select Resource Type
					</td>
					<td>
						<select class="form-control" th:id="rType" th:name="rType" autofocus>
							<option th:value="none" style="color:#8F8B87" selected>Select Resource Type</option>
							<option th:value="Classroom" style="color:#000">Classroom</option>
							<option th:value="Lab" style="color:#000">Lab</option>
							<option th:value="Hall" style="color:#000">Hall</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						Enter minimum seats required
					</td>
					<td>
						<input th:id="minSeats" class="form-control" th:name="minSeats" placeholder="Enter minimum seats" type="number" required/>
					</td>
				</tr>
				<tr>
					<td colspan=2 align=center>
						<div class="form-group">
			        		<button type="submit" id="submit" class="btn btn-primary btn-block"  style="width:150px"> Find Resources  </button>
			    		</div> <!-- form-group// -->  
			    	</td> 
				</tr>
			</table>
		</form>
		</article>
		<div class="row text-center mx-auto">
			<div class="alert alert-success" role="alert" th:if="${msg}" th:utext="${msg}"></div>
			<div class="alert alert-danger" role="alert" th:if="${err_msg}" th:utext="${err_msg}"></div>
		</div>  
	</div>
</body>
</html>