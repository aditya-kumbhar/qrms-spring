<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	
	
    <title>Student Preferences</title>

    <!-- Bootstrap core CSS -->
    <link th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}" rel="stylesheet">
   	<script th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
	<script th:src="@{/webjars/ajax/libs/jquery/3.2.1/jquery.min.js}"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="stylesheet" th:href="@{/css/register.css}">
    
    
    <script>
	    $(document).ready(function () {
	        $("#submit").click(function () {
	
	            var pref1 = $('#course1');
	            var pref2 = $('#course2');
	            var pref3 = $('#course3');
	            var pref4 = $('#course4');
	            
	            
	            if (pref1.val() == "Preference_1") {
	                alert("Please select preference 1");
	                $('#course1').focus();
	
	                return false;
	            } 
	            else if (pref2.val() == "Preference_2") {
	                alert("Please select preference 2");
	                $('#course2').focus();
	
	                return false;
	            } 
	            else if (pref3.val() == "Preference_3") {
	                alert("Please select preference 3");
	                $('#course3').focus();
	
	                return false;
	            } 
	            else if (pref4.val() == "Preference_4") {
	                alert("Please select preference 4");
	                $('#course4').focus();
	
	                return false;
	            } 
	            
	            else return;
	        });
	    });
	    
	    $(document).ready(function() {
    	   $('#course1').css('color','#8F8B87');
    	   $('#course1').change(function() {
    	      var current = $('#course1').val();
    	      if (current != 'Preference_1') {
    	          $('#course1').css('color','black');
    	      } else {
    	          $('#course1').css('color','#8F8B87');
    	      }
    	   });  
    	});
	    
	    $(document).ready(function() {
    	   $('#course2').css('color','#8F8B87');
    	   $('#course2').change(function() {
     	      var current = $('#course2').val();
     	      if (current != 'Preference_2') {
     	          $('#course2').css('color','black');
     	      } else {
     	          $('#course2').css('color','#8F8B87');
     	      }
     	   }); 
    	});
	    
	    $(document).ready(function() {
    	   $('#course3').css('color','#8F8B87');
    	   $('#course3').change(function() {
     	      var current = $('#course3').val();
     	      if (current != 'Preference_3') {
     	          $('#course3').css('color','black');
     	      } else {
     	          $('#course3').css('color','#8F8B87');
     	      }
     	   });  
    	});
	    
	    $(document).ready(function() {
    	   $('#course4').css('color','#8F8B87');
    	   $('#course4').change(function() {
     	      var current = $('#course4').val();
     	      if (current != 'Preference_4') {
     	          $('#course4').css('color','black');
     	      } else {
     	          $('#course4').css('color','#8F8B87');
     	      }
     	   }); 
    	});
	    
    </script>
    
</head>

<nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="navbar-brand" href="#"><img th:src="@{/img/pccoelogo.png}" width="30" height="30" alt="">QRMS</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/u/student/home}">Home</a>
            </li>

            <li class="nav-item active">
                <a class="nav-link" th:href="@{/u/student/getElectiveId}">Course Preferences</a>
            </li>
            
        </ul>
    </div>
    <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link" href="/logout">Log Out</a>
            </li>
        </ul>
    </div>
    
</nav>
<body>
	<div class="card bg-light">
		<article class="card-body mx-auto" style="max-width: 400px;">
			<h4 class="card-title mt-3 text-center">Select Elective-id</h4>
			<form th:action="@{/u/student/getStudentPrefs}"  role="form" method="GET">
				
				<div class="form-group input-group">
					<select class="form-control" th:name="elective_id" th:id="elective_id"required>
						<option th:value="Select_elective_id" style="color:#8F8B87" selected>Select Elective Id</option>
						<option th:each="i : ${elective_ids}" th:value="${i.courseId}" th:text="${i.courseName +'('+i.courseId +')'}" style="color:#000"></option>
					</select>	
				</div>
				
				<div class="form-group">
			        <button type="submit" id="submit_elective_id" class="btn btn-primary btn-block"> Get Choices  </button>
			    </div>
			    
			</form>
			
			<div class="row text-center mx-auto">
			<div class="alert alert-success" role="alert" th:if="${msg}" th:utext="${msg}"></div>
	 	</div>  
	 	
			<h4 class="card-title mt-3 text-center">Give Preferences</h4>
			
	        <form th:action="@{/u/student/setStudentPrefs}"  role="form" method="POST" th:object="${studentPref}"> 
				<div class="form-group input-group">
					<select class="form-control" th:name="course1" th:id="course1" required>
						<option th:value="Preference_1" style="color:#8F8B87" selected>Select Preference 1</option>
						<option th:each="i : ${courseList}" th:value="${i.course.courseId}" th:text="${i.electiveName}" style="color:#000"></option>
					</select>	
				</div>
				
				<div class="form-group input-group">
					<select class="form-control" th:name="course2" th:id="course2" required>
						<option th:value="Preference_2" style="color:#8F8B87" selected>Select Preference 2</option>
						<option th:each="i : ${courseList}" th:value="${i.course.courseId}" th:text="${i.electiveName}" style="color:#000"></option>
					</select>
				</div>
				
				<div class="form-group input-group">
					<select class="form-control" th:name="course3" th:id="course3" required>
						<option th:value="Preference_3" style="color:#8F8B87" selected>Select Preference 3</option>
						<option th:each="i : ${courseList}" th:value="${i.course.courseId}" th:text="${i.electiveName}" style="color:#000"></option>
					</select>
				</div>
				
				<div class="form-group input-group">
					<select class="form-control" th:name="course4" th:id="course4" required>
						<option th:value="Preference_4" style="color:#8F8B87" selected>Select Preference 4</option>
						<option th:each="i : ${courseList}" th:value="${i.course.courseId}" th:text="${i.electiveName}" style="color:#000"></option>
					</select>
				</div>
				
				<div class="form-group">
			        <button type="submit" id="submit" class="btn btn-primary btn-block"> Submit Preferences  </button>
			    </div> <!-- form-group// -->  
		       
			     
			</form>
		</article>
		<div class="row text-center mx-auto">
			<div class="alert alert-success" role="alert" th:if="${msg1}" th:utext="${msg1}"></div>
	 	</div>  
	</div>
</body>